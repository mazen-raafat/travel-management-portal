<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html lang="en" xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui">

<head>

<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<meta name="description" content="" />
<meta name="author" content="" />

<title>User - Offers</title>

<!-- Bootstrap Core CSS -->
<link href="../../../template/vendor/bootstrap/css/bootstrap.min.css"
	rel="stylesheet" />

<!-- MetisMenu CSS -->
<link href="../../../template/vendor/metisMenu/metisMenu.min.css"
	rel="stylesheet" />

<!-- DataTables CSS -->
<link
	href="../../../template/vendor/datatables-plugins/dataTables.bootstrap.css"
	rel="stylesheet" />

<!-- DataTables Responsive CSS -->
<link
	href="../../../template/vendor/datatables-responsive/dataTables.responsive.css"
	rel="stylesheet" />

<!-- Custom CSS -->
<link href="../../../template/dist/css/sb-admin-2.css" rel="stylesheet" />

<!-- Custom Fonts -->
<link
	href="../../../template/vendor/font-awesome/css/font-awesome.min.css"
	rel="stylesheet" type="text/css" />

<!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
<!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

</head>

<body>




	<div id="wrapper" style="min-height: 670px;">

		<div class="panel panel-primary">
			<div class="panel-heading">
				<div class="row">
					<div class="col-lg-12" dir="rtl">
						<h5>Welcome, #{loginUser.user.email}</h5>
						&nbsp;



						<h:form dir="rtl">

							<h:commandButton action="#{loginUser.logout}" value="Logout"
								class="btn btn-danger" /> &nbsp;
							<h:commandButton
								action="/pages/user/protected/my-tickets.xhtml?faces-redirect=true"
								value="My Tickets" class="btn btn-default" />&nbsp;


						</h:form>



					</div>
					<!-- /.col-lg-12 -->
				</div>

			</div>
			<div class="panel-body">
				<div class="row">
					<div class="col-lg-12">
						<h1>Gamma Arilines Portal</h1>
					</div>
					<!-- /.col-lg-12 -->
				</div>
			</div>
			<div class="panel-footer">

				<div class="row">
					<div class="col-lg-12">
						<h1 class="page-header">Offers</h1>
					</div>
					<!-- /.col-lg-12 -->
				</div>
				<!-- /.row -->
				<div class="row">
					<div class="col-lg-12">
						<div class="panel panel-default">
							<div class="panel-heading">User - Offerss</div>
							<!-- /.panel-heading -->
							<div class="panel-body">

								<p:growl id="messages"></p:growl>

								<h:dataTable value="#{offers.allOffersReturnObject}" var="o"
									styleClass="order-table" headerClass="order-table-header"
									rowClasses="order-table-odd-row,order-table-even-row"
									width="100%"
									class="table table-striped table-bordered table-hover"
									id="dataTables-example">

									<h:column>
										<!-- column header -->
										<f:facet name="header">From</f:facet>
										<!-- row record -->
    				#{o.route.from}
    			</h:column>

									<h:column>
										<f:facet name="header">To</f:facet>
    				#{o.route.to}
    			</h:column>

									<h:column>
										<f:facet name="header">Price</f:facet>
    				#{o.price.amount}
    			</h:column>

									<h:column>
										<f:facet name="header">Currency</f:facet>
    				#{o.price.currency}
    			</h:column>

									<h:column>

										<f:facet name="header">Action</f:facet>
										<h:form>
											<p:commandButton title="Buy" value="Buy"
												action="#{offers.buyTicket(o)}" ajax="false"
												class="btn btn-info" />
										</h:form>
									</h:column>
								</h:dataTable>



							</div>
							<!-- /.panel-body -->
						</div>
						<!-- /.panel -->
					</div>
					<!-- /.col-lg-12 -->
				</div>

			</div>

		</div>


	</div>
	<!-- /#wrapper -->

	<!-- jQuery -->
	<script src="../../../template/vendor/jquery/jquery.min.js"></script>

	<!-- Bootstrap Core JavaScript -->
	<script src="../../../template/vendor/bootstrap/js/bootstrap.min.js"></script>

	<!-- Metis Menu Plugin JavaScript -->
	<script src="../../../template/vendor/metisMenu/metisMenu.min.js"></script>

	<!-- DataTables JavaScript -->
	<script
		src="../../../template/vendor/datatables/js/jquery.dataTables.min.js"></script>
	<script
		src="../../../template/vendor/datatables-plugins/dataTables.bootstrap.min.js"></script>
	<script
		src="../../../template/vendor/datatables-responsive/dataTables.responsive.js"></script>

	<!-- Custom Theme JavaScript -->
	<script src="../../../template/dist/js/sb-admin-2.js"></script>

	<!-- Page-Level Demo Scripts - Tables - Use for reference -->
	<script>
		$(document).ready(function() {
			$('#dataTables-example').DataTable({
				responsive : true
			});
		});
	</script>
</body>

</html>
